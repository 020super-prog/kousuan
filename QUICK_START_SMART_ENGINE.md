# 🚀 智能口算引擎快速上手指南

## 📌 5分钟快速开始

### 1️⃣ 部署云函数（2分钟）

```
打开微信开发者工具
 ↓
右键 cloudfunctions/gradeEngine
 ↓
选择"上传并部署：云端安装依赖"
 ↓
等待部署完成
```

### 2️⃣ 测试功能（1分钟）

```
打开小程序模拟器
 ↓
进入"PDF生成"页面
 ↓
选择"一年级"
 ↓
启用"智能分配"开关
 ↓
点击"生成试卷"
 ↓
查看生成的题目
```

### 3️⃣ 验证效果（2分钟）

✅ 查看顶部消息：显示 "智能分配完成！20以内进位加法:8题, ..."
✅ 检查题目类型：应包含加法、减法、混合等多种题型
✅ 验证题目难度：符合一年级水平（20以内运算）

---

## 🎯 核心功能一览

| 功能 | 说明 | 效果 |
|------|------|------|
| **智能分配** | 根据年级自动配比题型 | 重点题型占比更大 |
| **82种题型** | 覆盖1-6年级所有场景 | 题目多样性强 |
| **权重算法** | 基于教学大纲设定权重 | 出题更科学合理 |
| **自动去重** | 避免重复题目 | 提高练习效率 |
| **随机打乱** | Fisher-Yates算法 | 每次生成不重复 |

---

## 📚 年级题型快速参考

### 一年级（10种）
```
基础: 10以内加减法
重点: 20以内进位加法、退位减法 ⭐⭐⭐
提高: 整十数运算、混合运算
```

### 二年级（9种）
```
基础: 100以内加减法
重点: 表内乘除法 ⭐⭐⭐
提高: 乘加/除减混合
```

### 三年级（8种）
```
基础: 三位数加减法
重点: 两位数乘除法 ⭐⭐⭐
提高: 带括号混合、单位换算
```

### 四年级（7种）
```
基础: 大数四则运算
重点: 运算律速算 ⭐⭐⭐
新增: 小数加减法
```

### 五年级（7种）
```
基础: 小数乘除法
重点: 分数加减法 ⭐⭐⭐
新增: 解简单方程
```

### 六年级（7种）
```
基础: 分数四则运算
重点: 百分数应用 ⭐⭐⭐
综合: 比值化简、倒数口算
```

---

## 💡 使用技巧

### 技巧1: 调整题目数量
```
推荐配置:
- 课堂练习: 20-30题（5-10分钟）
- 家庭作业: 50题（15-20分钟）
- 周末强化: 80-100题（30-40分钟）
```

### 技巧2: 选择合适年级
```
如果孩子基础较弱: 选低一级
如果孩子学有余力: 选高一级
如果想综合复习: 生成多份不同年级试卷
```

### 技巧3: 利用智能分配
```
✅ 推荐使用场景:
- 期末总复习（全面覆盖）
- 寒暑假巩固（保持题感）
- 新学期预习（提前接触）

❌ 不推荐场景:
- 针对性训练（如只练进位加法）
- 专题突破（此时应手动选择题型）
```

---

## 🔍 题目示例

### 一年级智能分配（50题）

**分配方案**:
```
20以内进位加法: 8题  (权重3)
20以内退位减法: 8题  (权重3)
10以内加法: 5题       (权重2)
10以内减法: 5题       (权重2)
20以内不进位加法: 5题 (权重2)
20以内不退位减法: 5题 (权重2)
混合运算: 5题         (权重2)
凑十法: 3题           (权重1)
整十数加: 3题         (权重1)
整十数减: 3题         (权重1)
```

**题目预览**:
```
1. 8 + 7 = ?         (进位加法)
2. 15 - 9 = ?        (退位减法)
3. 3 + 5 = ?         (10以内)
4. 12 + 6 = ?        (不进位)
5. 7 + □ = 10        (凑十法)
6. 30 + 40 = ?       (整十数)
7. 5 + 3 - 2 = ?     (混合)
...
```

---

## 🐛 常见问题速查

### Q1: 智能分配后无法手动选题型？
**A**: 这是正常的！智能分配模式会自动配比，不需要手动选择。如需手动选择，请关闭"智能分配"开关。

### Q2: 题目太简单/太难？
**A**: 请检查年级选择是否正确。可以选择低一级（更简单）或高一级（更难）。

### Q3: 生成失败或无题目？
**A**: 请确保云函数已正确部署。可在云开发控制台查看运行日志排查问题。

### Q4: 题目有重复？
**A**: 系统已内置去重机制，少量重复（<1%）属正常。如大量重复，请检查云函数版本。

---

## 📖 详细文档

- 📘 [技术详解](SMART_ENGINE_UPGRADE.md) - 算法原理、代码解析
- 📗 [部署指南](DEPLOYMENT_GUIDE_SMART_ENGINE.md) - 部署步骤、测试方案
- 📙 [项目总览](PROJECT_GUIDE.md) - 项目结构、开发规范
- 📕 [云函数开发](CLOUD_FUNCTION_GUIDE.md) - 云函数编写、调试

---

## 🎨 智能分配流程图

```
┌─────────────────┐
│  用户选择年级    │
│  (如: 一年级)    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  启用智能分配    │
│  (开关ON)       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  前端调用云函数  │
│  smartGenerate   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  云函数分析年级  │
│  获取82种题型    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  根据权重计算    │
│  各题型数量      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  调用专用生成器  │
│  生成各类题目    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  打乱题目顺序    │
│  (洗牌算法)      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  返回题目列表    │
│  + 分配详情      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  前端生成PDF     │
│  用户下载使用    │
└─────────────────┘
```

---

## 🏆 最佳实践

### ✅ 推荐做法

1. **首次使用**: 先用智能分配生成一份试卷，了解题型分布
2. **日常练习**: 保持智能分配开启，每天20-30题
3. **针对训练**: 关闭智能分配，手动选择薄弱题型
4. **考前复习**: 增加题目数量到80-100题，全面巩固

### ❌ 避免事项

1. 不要在一年级选择六年级题目（难度不匹配）
2. 不要同时启用智能分配又手动选题型（会冲突）
3. 不要生成过多题目（100题以上可能超时）
4. 不要频繁切换年级（影响学习连贯性）

---

## 📞 获取帮助

1. **查看日志**: 开发者工具 -> Console面板
2. **检查文档**: 参考上方详细文档链接
3. **重新部署**: 按部署指南重新上传云函数
4. **版本回滚**: 使用 Git 回滚到稳定版本

---

## 🎉 恭喜！

你已经掌握了智能口算引擎的基本用法！

**下一步**:
- 🔨 部署云函数到生产环境
- 📱 在真机上测试功能
- 👨‍👩‍👧‍👦 邀请家长和学生试用
- 📊 收集反馈并持续优化

**Happy Coding! 🚀**
